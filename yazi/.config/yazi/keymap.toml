# Yazi Keymap - Vim-style navigation
# https://yazi-rs.github.io/docs/configuration/keymap

[manager]
keymap = [
	{ on = ["<Esc>"], run = "escape", desc = "Exit visual mode, clear selected, or cancel search" },
	{ on = ["q"], run = "quit", desc = "Exit the process" },
	{ on = ["Q"], run = "quit --no-cwd-file", desc = "Exit without writing cwd-file" },
	{ on = ["<C-q>"], run = "close", desc = "Close the current tab, or quit if it's the last tab" },

	# Navigation
	{ on = ["k"], run = "arrow -1", desc = "Move cursor up" },
	{ on = ["j"], run = "arrow 1", desc = "Move cursor down" },
	{ on = ["K"], run = "arrow -5", desc = "Move cursor up 5 lines" },
	{ on = ["J"], run = "arrow 5", desc = "Move cursor down 5 lines" },
	{ on = ["h"], run = "leave", desc = "Go back to the parent directory" },
	{ on = ["l"], run = "enter", desc = "Enter the child directory" },
	{ on = ["g", "g"], run = "arrow -99999999", desc = "Move cursor to the top" },
	{ on = ["G"], run = "arrow 99999999", desc = "Move cursor to the bottom" },

	# Selection
	{ on = ["<Space>"], run = ["select --state=none", "arrow 1"], desc = "Toggle selection of current item" },
	{ on = ["v"], run = "visual_mode", desc = "Enter visual mode (selection mode)" },
	{ on = ["V"], run = "visual_mode --unset", desc = "Enter visual mode (unset mode)" },
	{ on = ["<C-a>"], run = "select_all --state=true", desc = "Select all files" },
	{ on = ["<C-r>"], run = "select_all --state=none", desc = "Inverse selection" },

	# Operations
	{ on = ["o"], run = "open", desc = "Open the selected files" },
	{ on = ["O"], run = "open --interactive", desc = "Open the selected files interactively" },
	{ on = ["<Enter>"], run = "open", desc = "Open the selected files" },
	{ on = ["y"], run = "yank", desc = "Copy selected files" },
	{ on = ["x"], run = "yank --cut", desc = "Cut selected files" },
	{ on = ["p"], run = "paste", desc = "Paste the files" },
	{ on = ["P"], run = "paste --force", desc = "Paste the files (overwrite if exists)" },
	{ on = ["d"], run = "remove", desc = "Move files to trash" },
	{ on = ["D"], run = "remove --permanently", desc = "Permanently delete files" },
	{ on = ["a"], run = "create", desc = "Create a file or directory" },
	{ on = ["r"], run = "rename", desc = "Rename a file or directory" },
	{ on = [";"], run = "shell", desc = "Run a shell command" },
	{ on = [":"], run = "shell --block", desc = "Run a shell command (block the UI)" },
	{ on = ["."], run = "hidden toggle", desc = "Toggle hidden files" },
	{ on = ["s"], run = "search fd", desc = "Search files by name" },
	{ on = ["S"], run = "search rg", desc = "Search files by content" },
	{ on = ["z"], run = "jump zoxide", desc = "Jump to a directory using zoxide" },

	# Copy paths
	{ on = ["c", "c"], run = "copy path", desc = "Copy absolute path" },
	{ on = ["c", "d"], run = "copy dirname", desc = "Copy directory path" },
	{ on = ["c", "f"], run = "copy filename", desc = "Copy filename" },
	{ on = ["c", "n"], run = "copy name_without_ext", desc = "Copy filename without extension" },

	# Sorting
	{ on = ["s", "m"], run = "sort modified --dir-first", desc = "Sort by modified time" },
	{ on = ["s", "n"], run = "sort natural --dir-first", desc = "Sort by natural order" },
	{ on = ["s", "s"], run = "sort size --dir-first", desc = "Sort by size" },

	# Tabs
	{ on = ["t"], run = "tab_create --current", desc = "Create a new tab" },
	{ on = ["1"], run = "tab_switch 0", desc = "Switch to tab 1" },
	{ on = ["2"], run = "tab_switch 1", desc = "Switch to tab 2" },
	{ on = ["3"], run = "tab_switch 2", desc = "Switch to tab 3" },
	{ on = ["["], run = "tab_switch -1 --relative", desc = "Switch to previous tab" },
	{ on = ["]"], run = "tab_switch 1 --relative", desc = "Switch to next tab" },

	# Help
	{ on = ["~"], run = "help", desc = "Open help" },
]
